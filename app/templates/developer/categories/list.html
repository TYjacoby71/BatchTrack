{% extends 'layout.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Product Categories</h2>
  <a class="btn btn-primary" href="{{ url_for('developer.create_product_category') }}">New Category</a>
  </div>
<div class="card">
  <div class="card-body">
    <table class="table table-sm">
      <thead>
        <tr>
          <th>Name</th>
          <th>Typically Portioned</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for c in categories %}
        <tr>
          <td>{{ c.name }}</td>
          <td>
            {% if c.is_typically_portioned %}
              <span class="badge bg-info">Yes</span>
            {% else %}
              <span class="badge bg-secondary">No</span>
            {% endif %}
          </td>
          <td>
            <a href="{{ url_for('developer.edit_product_category', cat_id=c.id) }}" class="btn btn-sm btn-outline-primary">Edit</a>
            <form method="post" action="{{ url_for('developer.delete_product_category', cat_id=c.id) }}" style="display:inline-block" onsubmit="return confirm('Delete category {{ c.name }}?');">
              <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
              <button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

