<div class="tab-pane fade" id="soapStage3Pane" role="tabpanel" aria-labelledby="soapStage3Tab">
  <div class="card soap-stage-card">
    <div class="card-body soap-stage-body" data-stage-index="2">
      <div class="row g-3 align-items-start soap-stage-form-row">
        <div class="col-md-4">
          <label class="form-label">Lye purity (%)</label>
          <input type="number" class="form-control" id="lyePurity" min="90" max="100" step="0.1" value="100">
          <div class="form-text soap-stage-note" id="lyePurityHint">Most calculators assume 100%.</div>
        </div>
        <div class="col-md-4 water-input" data-method="percent">
          <label class="form-label">Water % of oils</label>
          <input type="number" class="form-control" id="waterPct" min="20" max="50" step="0.1" value="33">
        </div>
        <div class="col-md-4 water-input d-none" data-method="concentration">
          <label class="form-label">Lye concentration %</label>
          <input type="number" class="form-control" id="lyeConcentration" min="20" max="50" step="0.1" value="33">
        </div>
        <div class="col-md-4 water-input d-none" data-method="ratio">
          <label class="form-label">Water : Lye ratio</label>
          <input type="number" class="form-control" id="waterRatio" min="1" max="4" step="0.05" value="2">
        </div>
      </div>
      <div class="form-text mt-2">
        Water settings change batch yield and cure time. Auto-updates as you type.
      </div>
      <div class="mt-2">
        <button type="button" class="btn btn-outline-primary btn-sm" id="calcLyeBtn">Recalculate (optional)</button>
      </div>
    </div>
  </div>
</div>
