2025-05-15 02:35:04,588 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 02:35:19,522 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 02:39:01,061 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 02:40:35,990 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 02:42:46,395 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 02:44:33,170 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 02:47:36,401 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:00:23,321 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:01:51,757 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:02:29,228 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:03:40,668 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:05:16,617 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:06:34,478 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:06:39,079 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:07:06,273 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:07:23,640 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:07:32,308 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:07:46,113 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:07:47,546 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:07:58,980 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:08:23,033 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:08:24,113 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:09:30,560 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:11:15,967 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:13:38,099 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:17:19,816 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:18:21,898 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:31:28,944 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:38:33,778 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:38:43,555 ERROR: Exception on /batches/ [GET] [in /home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py:875]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes/batch_routes.py", line 164, in list_batches
    return render_template('batches_list.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/batches_list.html", line 2, in top-level template code
    {% extends 'layout.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/layout.html", line 101, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/batches_list.html", line 128, in block 'content'
    {% set fifo_remaining = batch.final_quantity - (batch.product_inventory|sum(attribute='quantity_used')|default(0)) %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for -: 'NoneType' and 'int'
2025-05-15 03:41:08,563 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:42:11,008 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:44:09,221 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:46:52,342 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:47:24,544 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:48:08,337 ERROR: Exception on /batches/ [GET] [in /home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py:875]
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/routes/batch_routes.py", line 164, in list_batches
    return render_template('batches_list.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/batches_list.html", line 1, in top-level template code
    {% extends 'layout.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/layout.html", line 101, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/batches_list.html", line 138, in block 'content'
    {% for ingredient in InventoryItem.query.filter_by(name=batch.recipe.name, intermediate=True).all() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 490, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'InventoryItem' is undefined
2025-05-15 03:49:17,097 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:54:14,141 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:57:37,396 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 03:58:03,939 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 04:01:33,809 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 04:08:15,857 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 04:12:03,645 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 04:14:10,083 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-05-15 20:47:50,898 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
