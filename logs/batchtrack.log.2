2025-08-05 23:56:31,739 ERROR: Unexpected error during sync of tier solo: (sqlite3.OperationalError) no such column: subscription_tier.billing_cycle
[SQL: SELECT subscription_tier.id AS subscription_tier_id, subscription_tier.name AS subscription_tier_name, subscription_tier."key" AS subscription_tier_key, subscription_tier.description AS subscription_tier_description, subscription_tier.user_limit AS subscription_tier_user_limit, subscription_tier.is_customer_facing AS subscription_tier_is_customer_facing, subscription_tier.is_available AS subscription_tier_is_available, subscription_tier.requires_stripe_billing AS subscription_tier_requires_stripe_billing, subscription_tier.billing_cycle AS subscription_tier_billing_cycle, subscription_tier.pricing_category AS subscription_tier_pricing_category, subscription_tier.price_amount AS subscription_tier_price_amount, subscription_tier.currency AS subscription_tier_currency, subscription_tier.stripe_lookup_key AS subscription_tier_stripe_lookup_key, subscription_tier.stripe_customer_id AS subscription_tier_stripe_customer_id, subscription_tier.stripe_subscription_id AS subscription_tier_stripe_subscription_id, subscription_tier.stripe_price_id AS subscription_tier_stripe_price_id, subscription_tier.fallback_price AS subscription_tier_fallback_price, subscription_tier.stripe_price AS subscription_tier_stripe_price, subscription_tier.last_synced AS subscription_tier_last_synced, subscription_tier.whop_product_key AS subscription_tier_whop_product_key, subscription_tier.whop_product_name AS subscription_tier_whop_product_name, subscription_tier.whop_last_synced AS subscription_tier_whop_last_synced, subscription_tier.requires_whop_billing AS subscription_tier_requires_whop_billing, subscription_tier.status AS subscription_tier_status, subscription_tier.current_period_start AS subscription_tier_current_period_start, subscription_tier.current_period_end AS subscription_tier_current_period_end, subscription_tier.next_billing_date AS subscription_tier_next_billing_date, subscription_tier.trial_start AS subscription_tier_trial_start, subscription_tier.trial_end AS subscription_tier_trial_end, subscription_tier.cancel_at_period_end AS subscription_tier_cancel_at_period_end, subscription_tier.created_at AS subscription_tier_created_at, subscription_tier.updated_at AS subscription_tier_updated_at 
FROM subscription_tier 
WHERE subscription_tier."key" = ?
 LIMIT ? OFFSET ?]
[parameters: ('solo', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8) [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:450]
2025-08-06 00:21:43,119 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:21:43,763 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:21:47,489 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:21:48,469 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:21:55,433 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:21:57,012 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:27:51,385 INFO: Synced tier solo configuration to database [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:268]
2025-08-06 00:28:37,879 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:28:37,885 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:28:39,350 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:30:49,793 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:30:55,581 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:30:57,032 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:31:04,067 ERROR: Failed to fetch Stripe pricing for solo: cannot import name 'get_stripe_pricing_for_lookup_key' from 'app.services.stripe_service' (/home/runner/workspace/app/services/stripe_service.py) [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:300]
2025-08-06 00:31:43,192 ERROR: Failed to fetch Stripe pricing for solo: cannot import name 'get_stripe_pricing_for_lookup_key' from 'app.services.stripe_service' (/home/runner/workspace/app/services/stripe_service.py) [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:300]
2025-08-06 00:31:44,447 ERROR: Failed to fetch Stripe pricing for solo: cannot import name 'get_stripe_pricing_for_lookup_key' from 'app.services.stripe_service' (/home/runner/workspace/app/services/stripe_service.py) [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:300]
2025-08-06 00:31:46,878 ERROR: Failed to fetch Stripe pricing for solo: cannot import name 'get_stripe_pricing_for_lookup_key' from 'app.services.stripe_service' (/home/runner/workspace/app/services/stripe_service.py) [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:300]
2025-08-06 00:32:12,065 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:32:17,982 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:32:20,891 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:33:30,836 ERROR: Stripe error fetching pricing for batchtrack_solo_monthly: No API key provided. (HINT: set your API key using "stripe.api_key = <API-KEY>"). You can generate API keys from the Stripe web interface.  See https://stripe.com/api for details, or email support@stripe.com if you have any questions. [in /home/runner/workspace/app/services/stripe_service.py:461]
2025-08-06 00:33:30,836 WARNING: No Stripe pricing found for lookup key: batchtrack_solo_monthly [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:293]
2025-08-06 00:36:25,416 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:36:26,969 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:36:38,356 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:36:39,724 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:36:47,121 ERROR: Stripe error fetching pricing for batchtrack_solo_monthly: No API key provided. (HINT: set your API key using "stripe.api_key = <API-KEY>"). You can generate API keys from the Stripe web interface.  See https://stripe.com/api for details, or email support@stripe.com if you have any questions. [in /home/runner/workspace/app/services/stripe_service.py:461]
2025-08-06 00:36:47,121 WARNING: No Stripe pricing found for lookup key: batchtrack_solo_monthly [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:290]
2025-08-06 00:36:47,122 INFO: Synced tier to database: solo [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:314]
2025-08-06 00:40:22,324 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:40:32,844 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:40:34,169 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:20]
2025-08-06 00:40:54,824 INFO: === STRIPE INITIALIZATION === [in /home/runner/workspace/app/services/stripe_service.py:16]
2025-08-06 00:40:54,824 INFO: Stripe secret key configured: True [in /home/runner/workspace/app/services/stripe_service.py:19]
2025-08-06 00:40:54,824 INFO: Stripe key prefix: sk_live... [in /home/runner/workspace/app/services/stripe_service.py:21]
2025-08-06 00:40:54,825 INFO: Stripe API key set successfully [in /home/runner/workspace/app/services/stripe_service.py:27]
2025-08-06 00:40:55,045 INFO: Updated pricing for tier solo: $8 [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:292]
2025-08-06 00:40:55,068 INFO: Synced tier to database: solo [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:318]
2025-08-06 00:40:58,892 INFO: === STRIPE INITIALIZATION === [in /home/runner/workspace/app/services/stripe_service.py:16]
2025-08-06 00:40:58,892 INFO: Stripe secret key configured: True [in /home/runner/workspace/app/services/stripe_service.py:19]
2025-08-06 00:40:58,892 INFO: Stripe key prefix: sk_live... [in /home/runner/workspace/app/services/stripe_service.py:21]
2025-08-06 00:40:58,893 INFO: Stripe API key set successfully [in /home/runner/workspace/app/services/stripe_service.py:27]
2025-08-06 00:40:59,056 INFO: Updated pricing for tier team: $15 [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:292]
2025-08-06 00:40:59,156 INFO: Synced tier to database: team [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:318]
2025-08-06 00:41:02,898 INFO: === STRIPE INITIALIZATION === [in /home/runner/workspace/app/services/stripe_service.py:16]
2025-08-06 00:41:02,899 INFO: Stripe secret key configured: True [in /home/runner/workspace/app/services/stripe_service.py:19]
2025-08-06 00:41:02,899 INFO: Stripe key prefix: sk_live... [in /home/runner/workspace/app/services/stripe_service.py:21]
2025-08-06 00:41:02,899 INFO: Stripe API key set successfully [in /home/runner/workspace/app/services/stripe_service.py:27]
2025-08-06 00:41:03,050 INFO: Updated pricing for tier enterprise: $20 [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:292]
2025-08-06 00:41:03,069 INFO: Synced tier to database: enterprise [in /home/runner/workspace/app/blueprints/developer/subscription_tiers.py:318]
2025-08-06 00:43:26,628 INFO: === STRIPE INITIALIZATION === [in /home/runner/workspace/app/services/stripe_service.py:16]
2025-08-06 00:43:26,628 INFO: Stripe secret key configured: True [in /home/runner/workspace/app/services/stripe_service.py:19]
2025-08-06 00:43:26,629 INFO: Stripe key prefix: sk_live... [in /home/runner/workspace/app/services/stripe_service.py:21]
