2025-08-13 21:28:44,901 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:28:52,589 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:28:52,615 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:28:52,618 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:04,094 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:04,116 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:04,119 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,743 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,769 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,770 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,771 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,772 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,773 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,774 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,775 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:16,783 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:18,141 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:18,187 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:18,190 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,750 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,779 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,780 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,781 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,782 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,782 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,783 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,784 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:23,792 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:25,155 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:25,184 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:25,188 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:34,039 INFO: CANONICAL INVENTORY ADJUSTMENT: item_id=4, quantity=5.0, change_type=recount, caller=/home/runner/workspace/app/services/inventory_adjustment/_edit_logic.py:update_inventory_item [in /home/runner/workspace/app/services/inventory_adjustment/_core.py:53]
2025-08-13 21:29:34,040 INFO: RECOUNT: Processing recount from 0.0 to 5.0 [in /home/runner/workspace/app/services/inventory_adjustment/_core.py:101]
2025-08-13 21:29:34,302 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:34,321 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:29:34,323 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:30:23,666 INFO: CANONICAL INVENTORY ADJUSTMENT: item_id=4, quantity=50.0, change_type=recount, caller=/home/runner/workspace/app/services/inventory_adjustment/_edit_logic.py:update_inventory_item [in /home/runner/workspace/app/services/inventory_adjustment/_core.py:53]
2025-08-13 21:30:23,666 INFO: RECOUNT: Processing recount from 5.0 to 50.0 [in /home/runner/workspace/app/services/inventory_adjustment/_core.py:101]
2025-08-13 21:30:23,809 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:30:23,846 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:30:23,850 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:41:20,622 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:28]
2025-08-13 21:54:14,487 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:28]
2025-08-13 21:54:30,189 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:28]
2025-08-13 21:54:32,038 INFO: BatchTrack startup [in /home/runner/workspace/app/utils/unit_utils.py:28]
2025-08-13 21:54:32,447 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,366 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,450 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,452 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,453 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,454 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,456 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,457 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,458 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:35,469 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:37,594 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:37,635 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:37,699 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:41,170 INFO: CANONICAL INVENTORY ADJUSTMENT: item_id=2, quantity=10.0, change_type=restock, caller=app/blueprints/inventory/routes.py:adjust_inventory [in /home/runner/workspace/app/services/inventory_adjustment/_core.py:32]
2025-08-13 21:54:41,173 INFO: FIFO: Updating inventory item 2 quantity: 10.0 â†’ 20.0 [in /home/runner/workspace/app/services/inventory_adjustment/_fifo_ops.py:229]
2025-08-13 21:54:41,294 ERROR: Failed to record audit entry for item 2: (builtins.ValueError) could not convert string to float: 'Added 10.0 count'
[SQL: INSERT INTO unified_inventory_history (inventory_item_id, timestamp, change_type, quantity_change, unit, unit_cost, remaining_quantity, fifo_reference_id, fifo_code, batch_id, created_by, notes, quantity_used, used_for_batch_id, is_perishable, shelf_life_days, expiration_date, location_id, location_name, temperature_at_time, quality_status, compliance_status, quality_checked_by, customer, sale_price, order_id, reservation_id, is_reserved, sale_location, marketplace_order_id, marketplace_source, batch_number, lot_number, container_id, fifo_source, organization_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'organization_id': 1, 'quantity_change': 'Added 10.0 count', 'timestamp': datetime.datetime(2025, 8, 13, 21, 54, 41, 292593), 'remaining_quantity': 0 ... (522 characters truncated) ... , 'shelf_life_days': None, 'temperature_at_time': None, 'batch_number': None, 'reservation_id': None, 'container_id': None, 'fifo_reference_id': None}]] [in /home/runner/workspace/app/services/inventory_adjustment/_audit.py:107]
2025-08-13 21:54:41,379 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:41,410 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:41,414 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:54,044 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:54,066 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:54:54,068 INFO: Getting global unit list [in /home/runner/workspace/app/utils/unit_utils.py:32]
2025-08-13 21:55:02,533 INFO: CANONICAL INVENTORY ADJUSTMENT: item_id=2, quantity=10.0, change_type=spoil, caller=app/blueprints/inventory/routes.py:adjust_inventory [in /home/runner/workspace/app/services/inventory_adjustment/_core.py:32]
