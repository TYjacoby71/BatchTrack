2025-04-29 00:03:18,171 ERROR: Unexpected error cloning recipe: Could not build url for endpoint 'recipes.edit_recipe'. Did you forget to specify values ['recipe_id']? [in /home/runner/workspace/blueprints/recipes/routes.py:252]
Traceback (most recent call last):
  File "/home/runner/workspace/blueprints/recipes/routes.py", line 245, in clone_recipe
    return render_template('recipe_form.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/recipe_form.html", line 1, in top-level template code
    {% extends 'layout.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/layout.html", line 97, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/recipe_form.html", line 29, in block 'content'
    <form method="post" action="{{ url_for('recipes.create_variation' if is_variation else ('recipes.edit_recipe' if recipe else 'recipes.new_recipe'), recipe_id=recipe.parent_id if is_variation else recipe.id if recipe else None) }}" id="recipeForm">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'recipes.edit_recipe'. Did you forget to specify values ['recipe_id']?
2025-04-29 00:03:30,784 ERROR: Unexpected error cloning recipe: Could not build url for endpoint 'recipes.edit_recipe'. Did you forget to specify values ['recipe_id']? [in /home/runner/workspace/blueprints/recipes/routes.py:252]
Traceback (most recent call last):
  File "/home/runner/workspace/blueprints/recipes/routes.py", line 245, in clone_recipe
    return render_template('recipe_form.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/recipe_form.html", line 1, in top-level template code
    {% extends 'layout.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/layout.html", line 97, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/recipe_form.html", line 29, in block 'content'
    <form method="post" action="{{ url_for('recipes.create_variation' if is_variation else ('recipes.edit_recipe' if recipe else 'recipes.new_recipe'), recipe_id=recipe.parent_id if is_variation else recipe.id if recipe else None) }}" id="recipeForm">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'recipes.edit_recipe'. Did you forget to specify values ['recipe_id']?
2025-04-29 00:08:43,759 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-04-29 00:10:43,028 ERROR: Database error creating recipe: (sqlite3.IntegrityError) UNIQUE constraint failed: recipe_ingredients.recipe_id, recipe_ingredients.inventory_item_id
[SQL: INSERT INTO recipe_ingredients (recipe_id, inventory_item_id, amount, unit) VALUES (?, ?, ?, ?)]
[parameters: [(2, 2, 3.0, 'count'), (2, 2, 3.0, 'count'), (2, 3, 50.0, 'gram'), (2, 3, 50.0, 'gram'), (2, 5, 0.02, 'lb'), (2, 5, 0.02, 'lb')]]
(Background on this error at: https://sqlalche.me/e/20/gkpj) [in /home/runner/workspace/blueprints/recipes/routes.py:55]
2025-04-29 00:10:59,087 ERROR: Database error creating recipe: (sqlite3.IntegrityError) UNIQUE constraint failed: recipe_ingredients.recipe_id, recipe_ingredients.inventory_item_id
[SQL: INSERT INTO recipe_ingredients (recipe_id, inventory_item_id, amount, unit) VALUES (?, ?, ?, ?)]
[parameters: [(2, 2, 3.0, 'count'), (2, 2, 3.0, 'count'), (2, 3, 50.0, 'gram'), (2, 3, 50.0, 'gram'), (2, 5, 0.02, 'lb'), (2, 5, 0.02, 'lb')]]
(Background on this error at: https://sqlalche.me/e/20/gkpj) [in /home/runner/workspace/blueprints/recipes/routes.py:55]
2025-04-29 00:12:19,108 ERROR: Database error creating recipe: (sqlite3.IntegrityError) UNIQUE constraint failed: recipe_ingredients.recipe_id, recipe_ingredients.inventory_item_id
[SQL: INSERT INTO recipe_ingredients (recipe_id, inventory_item_id, amount, unit) VALUES (?, ?, ?, ?)]
[parameters: [(2, 2, 3.0, 'count'), (2, 2, 3.0, 'count'), (2, 3, 50.0, 'gram'), (2, 3, 50.0, 'gram'), (2, 5, 0.02, 'lb'), (2, 5, 0.02, 'lb')]]
(Background on this error at: https://sqlalche.me/e/20/gkpj) [in /home/runner/workspace/blueprints/recipes/routes.py:55]
2025-04-29 00:13:39,495 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
2025-04-29 00:15:29,674 INFO: BatchTrack startup [in /home/runner/workspace/utils/unit_utils.py:17]
