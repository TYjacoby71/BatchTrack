Registered API routes: ['/api/reservations/create', '/api/reservations/release/<int:reservation_id>', '/api/reservations/convert-to-sale/<int:reservation_id>', '/api/reservations/expire-old', '/api/products/<int:product_id>/variants', '/api/dismiss-alert', '/api/dashboard-alerts', '/api/server-time', '/api/dismiss-alert', '/api/dashboard-alerts', '/api/check-stock', '/api/categories', '/api/ingredient/<int:id>/density', '/api/debug-containers', '/api/available-containers/<int:recipe_id>', '/api/containers/available', '/api/batches/<int:batch_id>/containers', '/api/batches/<int:batch_id>/containers/<int:container_id>', '/api/batches/<int:batch_id>/containers/<int:container_id>/adjust', '/api/api/fifo-details/<int:inventory_id>', '/api/api/batch-inventory-summary/<int:batch_id>', '/api/api/reservations/create', '/api/api/reservations/release/<int:reservation_id>', '/api/api/reservations/convert-to-sale/<int:reservation_id>', '/api/api/reservations/expire-old']
Container routes found: ['/settings/bulk-update-containers', '/api/debug-containers', '/api/available-containers/<int:recipe_id>', '/api/containers/available', '/api/batches/<int:batch_id>/containers', '/api/batches/<int:batch_id>/containers/<int:container_id>', '/api/batches/<int:batch_id>/containers/<int:container_id>/adjust']
[2025-07-17 01:20:20,316] INFO in unit_utils: BatchTrack startup
Setting up expiration test data...
Found 9 inventory items linked to products
Checking item: Admin Apple Sauce - Base - 4.0 floz Admin 4oz Glass Jars (ID: 6)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - Base - 4.0 floz Admin Glass Jars (ID: 8)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - Base - 8.0 floz Admin Glass Jar (ID: 9)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - Base - Bulk (ID: 3)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - admin 3 - Bulk (ID: 12)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - admin1 - 4.0 floz Admin Glass Jars (ID: 13)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - admin1 - Bulk (ID: 10)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - admin2 - 4.0 floz Admin Glass Jars (ID: 14)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30
Checking item: Admin Apple Sauce - admin2 - Bulk (ID: 11)
  Current: is_perishable=False, shelf_life_days=None
  Updated to: is_perishable=True, shelf_life_days=30

Updated 9 inventory items with expiration data

Found 13 SKU history entries with remaining quantity
/home/runner/workspace/setup_expiration_test_data.py:52: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  inventory_item = InventoryItem.query.get(entry.inventory_item_id)
  13 are now marked as perishable
  0 are non-perishable