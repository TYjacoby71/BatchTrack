/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask_limiter/extension.py:333: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
[2025-08-15 17:25:09,472] INFO in unit_utils: BatchTrack startup
=== Current Database Schema for subscription_tier ===
  id: INTEGER NULL
  name: TEXT NULL
  key: TEXT NULL
  description: TEXT NULL
  user_limit: INTEGER NULL
  is_customer_facing: NUMERIC NULL
  stripe_lookup_key: TEXT NULL
  created_at: NUMERIC NULL
  updated_at: NUMERIC NULL
  whop_product_key: TEXT NULL
  fallback_price: TEXT NULL
  last_billing_sync: NUMERIC NULL
  grace_period_days: INTEGER NULL
  billing_provider: NULL NULL
  tier_key: TEXT NULL
  max_users: INTEGER NULL
  max_monthly_batches: INTEGER NULL
  stripe_product_id: TEXT NULL
  stripe_price_id: TEXT NULL
  stripe_price_id_monthly: TEXT NULL
  stripe_price_id_yearly: TEXT NULL
  is_billing_exempt: NUMERIC NULL

=== Model Definition Requirements ===
Based on your SubscriptionTier model, these columns should exist:
  id: INTEGER NOT NULL (Primary Key)
  name: VARCHAR(64) NOT NULL
  key: VARCHAR(32) NOT NULL (Unique)
  description: TEXT (nullable)
  stripe_product_id: VARCHAR(128) (nullable)
  stripe_price_id: VARCHAR(128) (nullable)
  stripe_price_id_monthly: VARCHAR(128) (nullable)
  stripe_price_id_yearly: VARCHAR(128) (nullable)
  user_limit: INTEGER (default=1)
  max_users: INTEGER NOT NULL (default=1)
  max_monthly_batches: INTEGER NOT NULL (default=0)
  is_customer_facing: BOOLEAN (default=True)
  billing_provider: VARCHAR(32) NOT NULL (default="exempt")
  is_billing_exempt: BOOLEAN (default=False, indexed)
  stripe_lookup_key: VARCHAR(128) (nullable, unique)
  whop_product_key: VARCHAR(128) (nullable, unique)
  fallback_price: VARCHAR(32) (default="$0")
  last_billing_sync: DATETIME (nullable)
  grace_period_days: INTEGER (default=7)
  created_at: DATETIME (default=utcnow)
  updated_at: DATETIME (default=utcnow, onupdate=utcnow)
