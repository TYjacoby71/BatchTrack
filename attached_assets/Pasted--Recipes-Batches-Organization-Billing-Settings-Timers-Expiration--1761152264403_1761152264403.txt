  - Recipes
   - Batches
   - Organization
   - Billing
   - Settings
   - Timers
   - Expiration
   - Conversion
   - Products Main
   - Public API
   - Main API
   - Drawer Actions
   - Density Reference
   - Retention Drawer API
   - Global Link Drawer API
   - App Routes
   - Legal Routes
   - Bulk Stock
   - Fault Log
   - Tag Manager
   - Global Library Public
   - Waitlist
   - Public Tools
   - Production Planning
   - Exports

ðŸŽ‰ All blueprints registered successfully!
INFO  [alembic.env] Imported model module: app.models.addon
INFO  [alembic.env] Imported model module: app.models.batch
INFO  [alembic.env] Imported model module: app.models.billing_snapshot
INFO  [alembic.env] Imported model module: app.models.category
INFO  [alembic.env] Imported model module: app.models.developer_permission
INFO  [alembic.env] Imported model module: app.models.developer_role
INFO  [alembic.env] Imported model module: app.models.domain_event
INFO  [alembic.env] Imported model module: app.models.feature_flag
INFO  [alembic.env] Imported model module: app.models.freshness_snapshot
INFO  [alembic.env] Imported model module: app.models.global_item
INFO  [alembic.env] Imported model module: app.models.global_item_alias
INFO  [alembic.env] Imported model module: app.models.inventory
INFO  [alembic.env] Imported model module: app.models.inventory_lot
INFO  [alembic.env] Imported model module: app.models.mixins
INFO  [alembic.env] Imported model module: app.models.models
INFO  [alembic.env] Imported model module: app.models.permission
INFO  [alembic.env] Imported model module: app.models.pricing_snapshot
INFO  [alembic.env] Imported model module: app.models.product
INFO  [alembic.env] Imported model module: app.models.product_category
INFO  [alembic.env] Imported model module: app.models.recipe
INFO  [alembic.env] Imported model module: app.models.reservation
INFO  [alembic.env] Imported model module: app.models.retention
INFO  [alembic.env] Imported model module: app.models.role
INFO  [alembic.env] Imported model module: app.models.statistics
INFO  [alembic.env] Imported model module: app.models.stripe_event
INFO  [alembic.env] Imported model module: app.models.subscription_tier
INFO  [alembic.env] Imported model module: app.models.unified_inventory_history
INFO  [alembic.env] Imported model module: app.models.unit
INFO  [alembic.env] Imported model module: app.models.user_preferences
INFO  [alembic.env] Imported model module: app.models.user_role_assignment
INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
INFO  [alembic.runtime.migration] Will assume transactional DDL.
/home/runner/workspace/migrations/env.py:186: SAWarning: Cannot correctly sort tables; there are unresolvable cycles between tables "batch, product_sku", which is usually caused by mutually dependent foreign key constraints.  Foreign key constraints involving these tables will not be considered; this warning may raise an error in a future release.
  context.run_migrations()
INFO  [alembic.autogenerate.compare] Detected added table 'reservation'
INFO  [alembic.autogenerate.compare] Detected added index ''idx_expires_at'' on '('expires_at',)'
INFO  [alembic.autogenerate.compare] Detected added index ''idx_order_status'' on '('order_id', 'status')'
INFO  [alembic.autogenerate.compare] Detected added index ''idx_reserved_item_status'' on '('reserved_item_id', 'status')'
INFO  [alembic.autogenerate.compare] Detected added index ''ix_reservation_order_id'' on '('order_id',)'
INFO  [alembic.ddl.postgresql] Detected sequence named 'recipe_ingredient_id_seq' as owned by integer column 'recipe_ingredient(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'user_stats_id_seq' as owned by integer column 'user_stats(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'stripe_event_id_seq' as owned by integer column 'stripe_event(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'global_item_alias_id_seq' as owned by integer column 'global_item_alias(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'user_role_assignment_id_seq' as owned by integer column 'user_role_assignment(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'extra_batch_ingredient_id_seq' as owned by integer column 'extra_batch_ingredient(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'custom_unit_mapping_id_seq' as owned by integer column 'custom_unit_mapping(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'conversion_log_id_seq' as owned by integer column 'conversion_log(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'batch_ingredient_id_seq' as owned by integer column 'batch_ingredient(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'user_preferences_id_seq' as owned by integer column 'user_preferences(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'unified_inventory_history_id_seq' as owned by integer column 'unified_inventory_history(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'batch_timer_id_seq' as owned by integer column 'batch_timer(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'addon_id_seq' as owned by integer column 'addon(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'developer_permission_id_seq' as owned by integer column 'developer_permission(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'extra_batch_consumable_id_seq' as owned by integer column 'extra_batch_consumable(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'recipe_consumable_id_seq' as owned by integer column 'recipe_consumable(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'batch_stats_id_seq' as owned by integer column 'batch_stats(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'organization_addon_id_seq' as owned by integer column 'organization_addon(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'inventory_efficiency_stats_id_seq' as owned by integer column 'inventory_efficiency_stats(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'inventory_history_id_seq' as owned by integer column 'inventory_history(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'product_sku_history_id_seq' as owned by integer column 'product_sku_history(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'batch_container_id_seq' as owned by integer column 'batch_container(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'batch_inventory_log_id_seq' as owned by integer column 'batch_inventory_log(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'tag_id_seq' as owned by integer column 'tag(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'recipe_stats_id_seq' as owned by integer column 'recipe_stats(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'retention_deletion_queue_id_seq' as owned by integer column 'retention_deletion_queue(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'domain_event_id_seq' as owned by integer column 'domain_event(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'organization_leaderboard_stats_id_seq' as owned by integer column 'organization_leaderboard_stats(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'organization_stats_id_seq' as owned by integer column 'organization_stats(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'storage_addon_purchase_id_seq' as owned by integer column 'storage_addon_purchase(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'storage_addon_subscription_id_seq' as owned by integer column 'storage_addon_subscription(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'extra_batch_container_id_seq' as owned by integer column 'extra_batch_container(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'freshness_snapshot_id_seq' as owned by integer column 'freshness_snapshot(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'inventory_change_log_id_seq' as owned by integer column 'inventory_change_log(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'billing_snapshots_id_seq' as owned by integer column 'billing_snapshots(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'pricing_snapshots_id_seq' as owned by integer column 'pricing_snapshots(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'feature_flag_id_seq' as owned by integer column 'feature_flag(id)', assuming SERIAL and omitting
INFO  [alembic.ddl.postgresql] Detected sequence named 'batch_consumable_id_seq' as owned by integer column 'batch_consumable(id)', assuming SERIAL and omitting
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.vessel_fill_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.candle_fragrance_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.candle_vessel_ml cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.soap_superfat cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.soap_water_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.soap_lye_type cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.baker_base_flour_g cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.baker_water_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.baker_salt_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.baker_yeast_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.cosm_emulsifier_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on batch.cosm_preservative_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
INFO  [alembic.autogenerate.compare] Detected added index ''ix_global_item_aka_gin'' on '()'
INFO  [alembic.autogenerate.compare] Detected added index ''ix_global_item_alias_tsv'' on '()'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'inventory_item.is_active'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'inventory_item.is_archived'
INFO  [alembic.autogenerate.compare] Detected removed index 'ix_inventory_item_name_org' on 'inventory_item'
INFO  [alembic.autogenerate.compare] Detected added index ''ix_product_category_lower_name'' on '()'
INFO  [alembic.autogenerate.compare] Detected removed index 'ix_product_sku_sku' on 'product_sku'
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.soap_superfat cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.soap_water_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.soap_lye_type cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.candle_fragrance_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.candle_vessel_ml cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.vessel_fill_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.baker_base_flour_g cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.baker_water_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.baker_salt_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.baker_yeast_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.cosm_emulsifier_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/alembic/autogenerate/compare.py:1034: UserWarning: Computed default on recipe.cosm_preservative_pct cannot be modified
  util.warn("Computed default on %s.%s cannot be modified" % (tname, cname))
INFO  [alembic.autogenerate.compare] Detected added index ''ix_recipe_category_data_gin'' on '()'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'role.is_active'
INFO  [alembic.autogenerate.compare] Detected removed index 'ix_stripe_event_event_type' on 'stripe_event'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'user.is_active'
  Generating /home/runner/workspace/migrations/versions/ae67dda9b692_test_should
  _be_empty.py ...  done
