‚úÖ Developer permissions seeded successfully!
üîß Seeding developer roles...
   Current developer roles in DB: 3
‚úÖ Created/updated system_admin role with 62 permissions
‚úÖ Created/updated developer role with 7 permissions
‚úÖ Created/updated support role with 8 permissions
‚úÖ Developer roles seeded successfully! (Total: 3)
   ‚úÖ system_admin role confirmed (ID: 1)
=== Seeding Organization System Roles ===
‚ÑπÔ∏è  organization_owner system role already exists
‚úÖ Organization system roles seeded successfully!
‚úÖ Assigned 0 permissions to fresh organization owner role
‚úÖ Cleaned up old permissions
‚úÖ Consolidated permissions system seeded successfully!

üìä Summary:
Organization permissions: 44
Developer permissions: 62
‚úÖ Permissions, organization roles, and developer roles seeded
=== Seeding Complete Subscription System ===
=== Seeding Complete Subscription Tiers ===
‚ÑπÔ∏è  Exempt tier already exists
‚úÖ Creating free tier
   - Free tier created with 5 permissions
‚úÖ Creating solo tier
   - Solo tier created with 39 permissions
‚úÖ Creating team tier
‚ö†Ô∏è  Subscription seeding issue: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
   Continuing with remaining steps...
‚ö†Ô∏è  Add-on seeding issue: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
   Continuing with remaining steps...
=== Seeding 49 standard units ===
‚ö†Ô∏è  Unit seeding issue: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
   Continuing with remaining steps...
=== Step 2: Organization-dependent setup ===
‚ÑπÔ∏è  Developer roles should now exist for user assignment...
=== Creating Default Organization with Essential Users ===
‚ö†Ô∏è  User/organization seeding issue: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
   Continuing with remaining steps...
=== Step 3: Organization-specific data ===
‚ö†Ô∏è  Ingredient category seeding issue: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
‚ö†Ô∏è  Product category seeding issue: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
‚ö†Ô∏è  Global inventory library seeding issue: unindent does not match any outer indentation level (seed_global_inventory_library.py, line 76)
‚úÖ Production seeding complete!
üîí Login: admin/admin (CHANGE IMMEDIATELY)
üìù Note: This command can be run multiple times safely
üìä Database status:
   - Status check failed: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_subscription_tier_stripe_storage_lookup_key"
DETAIL:  Key (stripe_storage_lookup_key)=(data-retention) already exists.

[SQL: INSERT INTO subscription_tier (name, description, tier_type, user_limit, max_users, max_recipes, max_batches, max_products, max_batchbot_requests, max_monthly_batches, retention_policy, data_retention_days, retention_notice_days, storage_addon_retention_days, is_customer_facing, billing_provider, stripe_lookup_key, stripe_storage_lookup_key, whop_product_key, created_at, updated_at) VALUES (%(name)s, %(description)s, %(tier_type)s, %(user_limit)s, %(max_users)s, %(max_recipes)s, %(max_batches)s, %(max_products)s, %(max_batchbot_requests)s, %(max_monthly_batches)s, %(retention_policy)s, %(data_retention_days)s, %(retention_notice_days)s, %(storage_addon_retention_days)s, %(is_customer_facing)s, %(billing_provider)s, %(stripe_lookup_key)s, %(stripe_storage_lookup_key)s, %(whop_product_key)s, %(created_at)s, %(updated_at)s) RETURNING subscription_tier.id]
[parameters: {'name': 'Team Plan', 'description': 'Collaboration tools for small teams', 'tier_type': 'monthly', 'user_limit': 10, 'max_users': 10, 'max_recipes': 200, 'max_batches': None, 'max_products': 100, 'max_batchbot_requests': 500, 'max_monthly_batches': 1000, 'retention_policy': 'one_year', 'data_retention_days': 365, 'retention_notice_days': 30, 'storage_addon_retention_days': 365, 'is_customer_facing': True, 'billing_provider': 'stripe', 'stripe_lookup_key': 'batchtrack_team_monthly', 'stripe_storage_lookup_key': 'data-retention', 'whop_product_key': None, 'created_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783693), 'updated_at': datetime.datetime(2025, 10, 11, 2, 22, 40, 783697)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
render@srv-d21alungi27c73dn1440-79cf7954f5-kdzxb:~/project/src$ 