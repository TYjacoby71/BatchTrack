🔧 Starting import fixes for factory pattern migration...
📁 Found 1195 Python files to check

1. Checking for duplicate files...
⚠️  Found duplicate: models.py (app version exists at app/models/models.py)
   Consider removing models.py to avoid conflicts

2. Fixing imports...
✅ Fixed imports in ./update_densities.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./assign_categories.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./run_tests.py
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./backfill_containers.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./query_last_batch.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./startup_recipe_loader.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./startup_inventory_loader.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./add_base_variants.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./init_db.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./app.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./routes/admin_routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./routes/app_routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./routes/bulk_stock_routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./routes/product_api.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./routes/product_inventory.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./routes/product_log_routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./routes/product_routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./routes/product_variants.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./routes/products.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./routes/tag_manager_routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./services/conversion_wrapper.py
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./services/inventory_alerts.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./services/product_service.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./services/stock_check.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./services/dashboard_alerts.py
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./services/inventory_adjustment.py
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./tests/test_batch_inventory.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./tests/test_unit_conversion.py
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./seeders/ingredient_category_seeder.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./seeders/unit_seeder.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./utils/unit_utils.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./filters/product_filters.py
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./app/blueprints/api/container_routes.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
✅ Fixed imports in ./app/blueprints/api/fifo_routes.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from utils\.(.+) import (.+)$ -> from ...utils.\1 import \2
✅ Fixed imports in ./app/blueprints/api/ingredient_routes.py
  - ^from models import (.+)$ -> from ...models import \1
✅ Fixed imports in ./app/blueprints/api/stock_routes.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
✅ Fixed imports in ./app/blueprints/batches/add_extra.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
✅ Fixed imports in ./app/blueprints/batches/cancel_batch.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
  - ^from utils import (.+)$ -> from ...utils import \1
✅ Fixed imports in ./app/blueprints/batches/finish_batch.py
  - ^from models import (.+)$ -> from ...models import \1
✅ Fixed imports in ./app/blueprints/batches/start_batch.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
✅ Fixed imports in ./app/blueprints/batches/routes.py
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
✅ Fixed imports in ./app/blueprints/conversion/routes.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from services\.(.+) import (.+)$ -> from ...services.\1 import \2
✅ Fixed imports in ./app/blueprints/expiration/services.py
  - ^from models import (.+)$ -> from ...models import \1
✅ Fixed imports in ./app/blueprints/fifo/services.py
  - ^from models import (.+)$ -> from ...models import \1
✅ Fixed imports in ./app/blueprints/inventory/routes.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from utils\.(.+) import (.+)$ -> from ...utils.\1 import \2
✅ Fixed imports in ./app/blueprints/quick_add/routes.py
  - ^from models import (.+)$ -> from ...models import \1
✅ Fixed imports in ./app/blueprints/recipes/routes.py
  - ^from models import (.+)$ -> from ...models import \1
  - ^from utils\.(.+) import (.+)$ -> from ...utils.\1 import \2
✅ Fixed imports in ./app/blueprints/settings/routes.py
  - ^from models import (.+)$ -> from ...models import \1
✅ Fixed imports in ./app/utils/unit_utils.py
  - ^from models import (.+)$ -> from ..models import \1
✅ Fixed imports in ./app/services/conversion_wrapper.py
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/services/dashboard_alerts.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
  - ^from blueprints\.(.+) import (.+)$ -> from ..\1 import \2
✅ Fixed imports in ./app/services/inventory_adjustment.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
  - ^from blueprints\.(.+) import (.+)$ -> from ..\1 import \2
✅ Fixed imports in ./app/services/inventory_alerts.py
  - ^from models import (.+)$ -> from ..models import \1
✅ Fixed imports in ./app/services/product_service.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/services/stock_check.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/services/unit_conversion.py
  - ^from models import (.+)$ -> from ..models import \1
✅ Fixed imports in ./app/filters/product_filters.py
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/routes/admin_routes.py
  - ^from models import (.+)$ -> from ..models import \1
✅ Fixed imports in ./app/routes/app_routes.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
  - ^from utils\.(.+) import (.+)$ -> from ..utils.\1 import \2
  - ^from blueprints\.(.+) import (.+)$ -> from ..\1 import \2
✅ Fixed imports in ./app/routes/bulk_stock_routes.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/routes/product_api.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/routes/product_inventory.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from services\.(.+) import (.+)$ -> from ..services.\1 import \2
✅ Fixed imports in ./app/routes/product_log_routes.py
  - ^from models import (.+)$ -> from ..models import \1
✅ Fixed imports in ./app/routes/product_routes.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from blueprints\.(.+) import (.+)$ -> from ..\1 import \2
✅ Fixed imports in ./app/routes/product_variants.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from utils\.(.+) import (.+)$ -> from ..utils.\1 import \2
✅ Fixed imports in ./app/routes/products.py
  - ^from models import (.+)$ -> from ..models import \1
  - ^from utils\.(.+) import (.+)$ -> from ..utils.\1 import \2
✅ Fixed imports in ./app/routes/tag_manager_routes.py
  - ^from models import (.+)$ -> from ..models import \1
✅ Fixed imports in ./blueprints/api/container_routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./blueprints/api/fifo_routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./blueprints/api/ingredient_routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./blueprints/api/stock_routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./blueprints/batches/add_extra.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./blueprints/batches/cancel_batch.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
  - ^from utils import (.+)$ -> from app.utils import \1
✅ Fixed imports in ./blueprints/batches/finish_batch.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./blueprints/batches/routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
  - ^from utils import (.+)$ -> from app.utils import \1
✅ Fixed imports in ./blueprints/batches/start_batch.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./blueprints/conversion/routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from services\.(.+) import (.+)$ -> from app.services.\1 import \2
✅ Fixed imports in ./blueprints/expiration/services.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./blueprints/fifo/services.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./blueprints/inventory/routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./blueprints/quick_add/routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./blueprints/recipes/routes.py
  - ^from models import (.+)$ -> from app.models import \1
  - ^from utils\.(.+) import (.+)$ -> from app.utils.\1 import \2
✅ Fixed imports in ./blueprints/settings/routes.py
  - ^from models import (.+)$ -> from app.models import \1
✅ Fixed imports in ./blueprints/timers/routes.py
  - ^from models import (.+)$ -> from app.models import \1

✅ Import fixing complete!
📊 Fixed imports in 84 files

3. Checking for remaining issues...
🔍 Manual review needed: app/blueprints/batches/routes.py
🔍 Manual review needed: blueprints/inventory/routes.py