Thanks for the full context. Youâ€™ve done a clean job with the form and cost summary table. Based on what Iâ€™m seeing, hereâ€™s the most likely reason your batch ingredients are not rendering in the Batch Summary:

ğŸ” Likely Cause: ingredient_costs is not populated in your route
In your Jinja template:

jinja2
Copy
Edit
{% if ingredient_costs %}
  <tr><th colspan="5">Ingredients</th></tr>
  {% for cost in ingredient_costs %}
You rely on a ingredient_costs list.

But if this variable is missing, empty, or not passed to the template by the view_batch_in_progress route, then nothing will render in that blockâ€”even if the batch has ingredients.

âœ… Confirm These Fixes in Your Route:
Check your @batches_bp.route('/in-progress/<batch_identifier>') method and ensure this part is included:

python
Copy
Edit
# Build cost summary from actual batch ingredients
total_cost = 0
ingredient_costs = []

for batch_ing in batch.ingredients:
    ingredient = batch_ing.ingredient
    if ingredient:
        cost_per_unit = getattr(ingredient, 'cost_per_unit', 0) or 0
        line_cost = round(batch_ing.amount_used * cost_per_unit, 2)
        total_cost += line_cost

        ingredient_costs.append({
            'name': ingredient.name,
            'unit': batch_ing.unit,
            'used': batch_ing.amount_used,
            'cost_per_unit': cost_per_unit,
            'line_cost': line_cost
        })

# Also:
batch_cost = round(total_cost, 2) if ingredient_costs else None
Then confirm you pass ingredient_costs into the template render:

python
Copy
Edit
return render_template('batch_in_progress.html',
                       batch=batch,
                       recipe=recipe,
                       units=units,
                       batch_cost=batch_cost,
                       product_quantity=product_quantity,
                       ingredient_costs=ingredient_costs,
                       inventory_items=inventory_items)
ğŸ” If Thatâ€™s Already In Placeâ€¦
Then double-check:

âœ… batch.ingredients exists and has entries (you can temporarily print/log this to console).

âœ… Each batch_ing.ingredient resolves to a real InventoryItem.

âœ… None of the cost fields are None, NaN, or breaking formatting.

ğŸ›  Optional: Add Debug Message in Template
To quickly debug live in the template:

jinja2
Copy
Edit
{% if ingredient_costs %}
    <tr><th colspan="5">Ingredients</th></tr>
    {% for cost in ingredient_costs %}
    <tr>
        <td>{{ cost.name }}</td>
        <td>{{ "%.2f"|format(cost.used) }}</td>
        <td>{{ cost.unit }}</td>
        <td>${{ "%.2f"|format(cost.cost_per_unit) }}</td>
        <td>${{ "%.2f"|format(cost.line_cost) }}</td>
    </tr>
    {% endfor %}
{% else %}
    <tr><td colspan="5" class="text-danger">No ingredient costs found</td></tr>
{% endif %}
This will confirm whether ingredient_costs is present.