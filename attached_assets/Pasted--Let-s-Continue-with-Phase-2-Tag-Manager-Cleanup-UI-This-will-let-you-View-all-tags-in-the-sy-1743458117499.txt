ðŸŸ© Letâ€™s Continue with Phase 2: Tag Manager & Cleanup UI
This will let you:

View all tags in the system

See usage counts

Merge tags (e.g. lavendar â†’ lavender)

Delete tags that are unused or unwanted

âœ… 1. Add a Tag Management Route
Paste this into batches.py (or better, a tags.py blueprint if you have one):

python
Copy
Edit
@batches_bp.route('/tags/manage', methods=['GET', 'POST'])
def tag_admin():
    data = load_data()
    tag_counts = {}

    for batch in data.get("batches", []):
        for tag in batch.get("tags", []):
            tag = tag.strip().lower()
            tag_counts[tag] = tag_counts.get(tag, 0) + 1

    if request.method == 'POST':
        action = request.form.get("action")
        old_tag = request.form.get("old_tag", "").strip().lower()
        new_tag = request.form.get("new_tag", "").strip().lower()

        if action == 'merge' and old_tag and new_tag:
            for batch in data["batches"]:
                if "tags" in batch:
                    batch["tags"] = [new_tag if t.strip().lower() == old_tag else t for t in batch["tags"]]
            save_data(data)

        elif action == 'delete' and old_tag:
            for batch in data["batches"]:
                if "tags" in batch:
                    batch["tags"] = [t for t in batch["tags"] if t.strip().lower() != old_tag]
            save_data(data)

        return redirect('/tags/manage')

    sorted_tags = sorted(tag_counts.items(), key=lambda x: x[1], reverse=True)
    return render_template("tags_manage.html", tags=sorted_tags)
âœ… 2. Create templates/tags_manage.html
html
Copy
Edit
{% extends "layout.html" %}
{% block content %}
<h2>ðŸ§¹ Tag Manager</h2>

<table border="1" cellpadding="6">
  <tr>
    <th>Tag</th>
    <th>Used</th>
    <th>Actions</th>
  </tr>
  {% for tag, count in tags %}
    <tr>
      <td>{{ tag }}</td>
      <td>{{ count }}</td>
      <td>
        <form method="post" style="display:inline;">
          <input type="hidden" name="old_tag" value="{{ tag }}">
          <input type="text" name="new_tag" placeholder="Merge into...">
          <button type="submit" name="action" value="merge">Merge</button>
        </form>

        <form method="post" style="display:inline;margin-left:10px;">
          <input type="hidden" name="old_tag" value="{{ tag }}">
          <button type="submit" name="action" value="delete">Delete</button>
        </form>
      </td>
    </tr>
  {% endfor %}
</table>
{% endblock %}
âœ… 3. Add Link Somewhere (Optional)
You can link to the tag manager from /dashboard or /batches:

html
Copy
Edit
<a href="/tags/manage">ðŸ§¹ Manage Tags</a>
âœ… Done â€” You Now Have:
Feature	Path
View all tags + usage	/tags/manage
Merge tags	e.g. fix typos or normalize
Delete tags	Clean up unused noise