# Database Upgrade Log

Generated on 2025-10-21 00:32:18 UTC from Alembic migrations and observed runtime logs.

## Canonical Alembic upgrade order (base ➜ head)

- base -> 4481595c5f02: 4481595c5f02_ (4481595c5f02_.py)
- 4481595c5f02 -> 132971c1d456: add all missing columns to match model (132971c1d456_add_all_missing_columns_to_match_model_.py)
- 132971c1d456 -> f3b0e59fe9c1: add missing recipe columns (f3b0e59fe9c1_add_missing_recipe_columns.py)
- f3b0e59fe9c1 -> add_missing_timestamps: add missing timestamp columns (add_missing_timestamp_columns.py)
- add_missing_timestamps -> fix_nullable_constraints: fix nullable columns and constraints (fix_nullable_columns_and_constraints.py)
- fix_nullable_constraints -> add_unit_timestamps: add unit timestamps (add_unit_timestamps.py)
- add_unit_timestamps -> add_missing_created_at_columns: add missing created at columns (add_missing_created_at_columns.py)
- add_missing_created_at_columns -> add_missing_table_schemas: add missing table schemas (add_missing_table_schemas.py)
- add_missing_table_schemas -> fix_password_hash_length: fix password hash length (fix_password_hash_length.py)
- fix_password_hash_length -> 8b7aa70df87d: fix user role assignment constraints to (8b7aa70df87d_fix_user_role_assignment_constraints_to_.py)
- 8b7aa70df87d -> 9d2a5c7f8b1e: fix inventory history constraints (fix_inventory_history_constraints.py)
- 9d2a5c7f8b1e -> 1a2b3c4d5e6f: force drop unwanted columns (force_drop_unwanted_columns.py)
- 1a2b3c4d5e6f -> add_billing_columns_org: add billing columns to organization (add_billing_columns_to_organization.py)
- add_billing_columns_org -> whop_integration: add whop integration fields (add_whop_integration_fields.py)
- whop_integration -> a1b2c3d4e5f6789012345678901234ab: add whop fields to subscription tier (add_whop_fields_to_subscription_tier.py)
- a1b2c3d4e5f6789012345678901234ab -> 0e15af770cb3: simplify subscription tier model remove (0e15af770cb3_simplify_subscription_tier_model_remove_.py)
- 0e15af770cb3 -> f4e5d6c7b8a9: remove nonexistent billing columns (remove_nonexistent_billing_columns.py)
- f4e5d6c7b8a9 -> drop_deprecated_billing_columns: drop deprecated billing columns (drop_deprecated_billing_columns.py)
- drop_deprecated_billing_columns -> add_offline_billing_support: add offline billing support (add_offline_billing_support.py)
- add_offline_billing_support -> 3f7a8b9c2d5e: add offline billing and missing fields (add_offline_billing_and_missing_fields.py)
- 3f7a8b9c2d5e -> 4246268c4e7c: add oauth and email verification fields (4246268c4e7c_add_oauth_and_email_verification_fields.py)
- 4246268c4e7c -> fix_missing_email_verification: columns (fix_missing_email_verification_columns.py)
- fix_missing_email_verification -> add_fallback_price_column: add fallback price column (add_fallback_price_column.py)
- add_fallback_price_column -> 9a2b8c4d5e6f: fix missing oauth columns postgresql (fix_missing_oauth_columns_postgresql.py)
- 9a2b8c4d5e6f -> b5c7d8e9f1a2: replace billing booleans with enums (replace_billing_booleans_with_enums.py)
- b5c7d8e9f1a2 -> fix_unit_symbol_nullable: fix unit symbol nullable (fix_unit_symbol_nullable.py)
- fix_unit_symbol_nullable -> c8f2e5a9b1d4: fix fallback price column type (fix_fallback_price_column_type.py)
- c8f2e5a9b1d4 -> fix_product_sku_name_column: fix product sku name column (fix_product_sku_name_column.py)
- fix_product_sku_name_column -> add_unique_constraint_stripe: event id (add_unique_constraint_stripe_event_id.py)
- add_unique_constraint_stripe -> add_tier_key_column: add tier key column (add_tier_key_column.py)
- add_tier_key_column -> add_legacy_compatibility_fields: add legacy compatibility fields (add_legacy_compatibility_fields.py)
- add_legacy_compatibility_fields -> 39e309ff02d1: add legacy compatibility fields to (39e309ff02d1_add_legacy_compatibility_fields_to_.py)
- 39e309ff02d1 -> add_is_verified_to_user: add is verified to user (add_is_verified_to_user.py)
- add_is_verified_to_user -> add_email_verified_at_column: add email verified at column (add_email_verified_at_column.py)
- add_email_verified_at_column -> 6f9bc65166b3: create unified inventory history and (6f9bc65166b3_create_unified_inventory_history_and_.py)
- 6f9bc65166b3 -> 57d6ce45a761: 57d6ce45a761_ (57d6ce45a761_.py)
- 57d6ce45a761 -> clean_subscription_tier_billing: clean subscription tier billing (clean_subscription_tier_billing.py)
- clean_subscription_tier_billing -> 758a11548815: clean subscription tier model use (758a11548815_clean_subscription_tier_model_use_.py)
- 758a11548815 -> fix_missing_max_users_column: fix missing max users column (fix_missing_max_users_column.py)
- fix_missing_max_users_column -> fix_all_missing_tier_columns: fix all missing tier columns (fix_all_missing_tier_columns.py)
- fix_all_missing_tier_columns -> simplify_tiers_add_tier_type: simplify tiers add tier type (simplify_tiers_add_tier_type.py)
- simplify_tiers_add_tier_type -> fix_product_sku_id_autoincrement: fix product sku id autoincrement (fix_product_sku_id_autoincrement.py)
- fix_product_sku_id_autoincrement -> create_inventory_lot: table (create_inventory_lot_table.py)
- create_inventory_lot -> add_affected_lot_id_simple: add affected lot id simple (add_affected_lot_id_simple.py)
- add_affected_lot_id_simple -> add_batch_id_to_inventory_lot: add batch id to inventory lot (add_batch_id_to_inventory_lot.py)
- add_batch_id_to_inventory_lot -> add_missing_last_login_column: add missing last login column (add_missing_last_login_column.py)
- add_missing_last_login_column -> add_missing_user_columns: add missing user columns (add_missing_user_columns.py)
- add_missing_user_columns -> add_perm_category_col: add missing permission category column (add_missing_permission_category_column.py)
- add_perm_category_col -> edb302e17958: edb302e17958_ (edb302e17958_.py)
- edb302e17958 -> fix_perm_unit_schema: fix permission and unit schema mismatch (fix_permission_and_unit_schema_mismatch.py)
- fix_perm_unit_schema -> add_comprehensive_stats: add comprehensive statistics models (add_comprehensive_statistics_models.py)
- add_comprehensive_stats -> add_capacity_fields: add container capacity columns (add_container_capacity_columns.py)
- add_capacity_fields -> add_reference_guide_integration: add reference guide integration (add_reference_guide_integration.py)
- add_reference_guide_integration -> 20250904_01: global items and indexes (20250904_01_global_items_and_indexes.py)
- 20250904_01 -> 20250904_01a: repair global item if missing (20250904_01a_repair_global_item_if_missing.py)
- 20250904_01a -> 20250904_02: globalitem synonyms and perishables (20250904_02_globalitem_synonyms_and_perishables.py)
- 20250904_02 -> 20250904_03: inventoryitem globalitem ondelete (20250904_03_inventoryitem_globalitem_ondelete.py)
- 20250904_03 -> 20250904_04: add missing inventory category id (20250904_04_add_missing_inventory_category_id.py)
- 20250904_04 -> 20250904_04a: 20250904 04 add reference category to global item (20250904_04_add_reference_category_to_global_item.py)
- 20250904_04a -> 20250905_01: global item soft delete and inventory ownership (20250905_01_global_item_soft_delete_and_inventory_ownership.py)
- 20250905_01 -> 20250906_01: add fk category to global item (20250906_01_add_fk_category_to_global_item.py)
- 20250906_01 -> 2025090502: 20250905 02 add consumables models (20250905_02_add_consumables_models.py)
- 2025090502 -> 20250908_01: add organization id to recipe consumable (20250908_01_add_organization_id_to_recipe_consumable.py)
- 20250908_01 -> 20250911_01: cleanup redundant category fields (20250911_01_cleanup_redundant_category_fields.py)
- 20250911_01 -> 20250911_02: add reference category field (20250911_02_add_reference_category_field.py)
- 20250911_02 -> 20250911_03: remove reference category field (20250911_03_remove_reference_category_field.py)
- 20250911_03 -> 20250911_04: add missing timestamp columns to ingredient category (20250911_04_add_missing_timestamp_columns_to_ingredient_category.py)
- 20250911_04 -> 20250911_05: add missing timestamp columns to global item (20250911_05_add_missing_timestamp_columns_to_global_item.py)
- 20250911_05 -> 20250911_06: fix inventory name constraint (20250911_06_fix_inventory_name_constraint.py)
- 20250911_06 -> 20250913014500: rename is reference category to is global category (20250913014500_rename_is_reference_category_to_is_global_category.py)
- 20250913014500 -> 20250912_01: 20250912 12 add domain event and freshness snapshot (20250912_12_add_domain_event_and_freshness_snapshot.py)
- 20250912_01 -> d953779b55a3: d953779b55a3_ (d953779b55a3_.py)
- d953779b55a3 -> 20250922_01_align_extras: naming and consumables (20250922_01_align_extras_naming_and_consumables.py)
- 20250922_01_align_extras -> 20250922_02: inventory cost method toggle (20250922_02_inventory_cost_method_toggle.py)
- 20250922_02 -> 20250923_01: create product category table (20250923_01_create_product_category_table.py)
- 20250923_01 -> 20250923_02: add category to product and recipe (20250923_02_add_category_to_product_and_recipe.py)
- 20250923_02 -> 20250923_03: add portioning data to recipe and batch (20250923_03_add_portioning_data_to_recipe_and_batch.py)
- 20250923_03 -> 20250923_04: add sku name template to product category (20250923_04_add_sku_name_template_to_product_category.py)
- 20250923_04 -> 20250924_01: drop product base unit (20250924_01_drop_product_base_unit.py)
- 20250924_01 -> 20250925_01: add portion columns to recipe and batch (20250925_01_add_portion_columns_to_recipe_and_batch.py)
- 20250925_01 -> 20250925_02: add plan snapshot to batch (20250925_02_add_plan_snapshot_to_batch.py)
- 20250925_02 -> 20250925_03: add portion unit fk (20250925_03_add_portion_unit_fk.py)
- 20250925_03 -> 20250925_04: add container attributes (20250925_04_add_container_attributes.py)
- 20250925_04 -> 20250930_1: 20250930 01 alias and indexes (20250930_01_alias_and_indexes.py)
- 20250930_1 -> 20250930_2: 20250930 02 add soap making attributes (20250930_02_add_soap_making_attributes.py)
- 20250930_2 -> 20250930_3: 20250930 03 add soap making to global item (20250930_03_add_soap_making_to_global_item.py)
- 20250930_3 -> 20250930_4: 20250930 04 add category field visibility (20250930_04_add_category_field_visibility.py)
- 20250930_4 -> 20250930_5: 20250930 05 set category visibility defaults (20250930_05_set_category_visibility_defaults.py)
- 20250930_5 -> 20251001_1: add addon models and tier allowed addons (20251001_1_add_addon_models_and_tier_allowed_addons.py)
- 20251001_1 -> 20251001_2: add fields to addon (20251001_2_add_fields_to_addon.py)
- 20251001_2 -> 20251006_1: 20251006 01 add recipe category data (20251006_01_add_recipe_category_data.py)
- 20251006_1 -> 20251006_2: 20251006 02 add product category ui config (20251006_02_add_product_category_ui_config.py)
- 20251006_2 -> 20251008_1: 20251008 01 add recipe hot fields generated cols (20251008_01_add_recipe_hot_fields_generated_cols.py)
- 20251008_1 -> 20251008_2: 20251008 02 add batch hot fields generated cols (20251008_02_add_batch_hot_fields_generated_cols.py)
- 20251008_2 -> 20251008_3: 20251008 03 add gin index on recipe category data (20251008_03_add_gin_index_on_recipe_category_data.py)
- 20251008_3 -> 20251009_1: 20251009 01 add missing retention columns (20251009_01_add_missing_retention_columns.py)
- 20251009_1 -> 20251009_2: 20251009 02 repair keep indexes and tier included addon (20251009_02_repair_keep_indexes_and_tier_included_addon.py)
- 20251009_2 -> 20251009_3: 20251009 03 align models keep indexes (20251009_03_align_models_keep_indexes.py)
- 20251009_3 -> 20251011_01: fix tier addon association table naming (20251011_01_fix_tier_addon_association_table_naming.py)
- 20251011_01 -> 20251015_01: fix portion columns (20251015_01_fix_portion_columns.py)
- 20251015_01 -> 20251015_02: add skin enabled to product category (20251015_02_add_skin_enabled_to_product_category.py)
- 20251015_02 -> 20251015_03: create feature flag table (20251015_03_create_feature_flag_table.py)
- 20251015_03 -> 20251015_04: make product category org nullable (20251015_04_make_product_category_org_nullable.py)
- 20251015_04 -> 20251016_1: create tier allowed addon (20251016_1_create_tier_allowed_addon.py)
- 20251016_1 -> 20251016_2: add stable key column to subscription tier (20251016_2_add_stable_key_column_to_subscription_tier.py)
- 20251016_2 -> 20251017_1: add billing indexes (20251017_1_add_billing_indexes.py)
- 20251017_1 -> 20251017_2: drop offline billing columns (20251017_2_drop_offline_billing_columns.py)
- 20251017_2 -> 20251020_1: add theme column to user preferences (20251020_1_add_theme_column_to_user_preferences.py)
- 20251020_1 -> 20251020_2: add all missing production columns (20251020_2_add_all_missing_production_columns.py)

## Observed runtime upgrade transitions

Collapsed from `attached_assets/Pasted-*upgrade*.txt` and deduplicated.

- 20250904_01 -> 20250904_01a: Repair: ensure global_item exists with indexes and FK (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250904_01a -> 20250904_02: Extend GlobalItem with synonyms and perishable defaults (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250904_02 -> 20250904_03: Set ON DELETE SET NULL for inventory_item.global_item_id (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250904_03 -> 20250904_04: Add missing inventory_category_id column to inventory_item table (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250904_04 -> 20250904_04a: Add reference_category to global_item (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250904_04a -> 20250905_01: Add soft-delete fields to global_item and ownership to inventory_item (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt | Pasted-render-srv-d21alungi27c73dn1440-85f5d859f5-52jjl-project-src-flask-db-upgrade-opt-render-projec-1760145577962_1760145577963.txt)
- 2025090502 -> 20250908_01: Add organization_id column to recipe_consumable table (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt | Pasted-render-srv-d21alungi27c73dn1440-85f5d859f5-52jjl-project-src-flask-db-upgrade-opt-render-projec-1760145577962_1760145577963.txt)
- 20250905_01 -> 20250906_01: Add foreign key from global_item to ingredient_category (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt | Pasted-render-srv-d21alungi27c73dn1440-85f5d859f5-52jjl-project-src-flask-db-upgrade-opt-render-projec-1760145577962_1760145577963.txt)
- 20250906_01 -> 2025090502: Add consumables tables for recipes and batches (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt | Pasted-render-srv-d21alungi27c73dn1440-85f5d859f5-52jjl-project-src-flask-db-upgrade-opt-render-projec-1760145577962_1760145577963.txt)
- 20250908_01 -> 20250911_01: cleanup redundant category fields (Pasted-O-alembic-runtime-migration-Running-upgrade-20250908-01-20250911-01-cleanup-redundant-categor-1760145902473_1760145902473.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt | Pasted-render-srv-d21alungi27c73dn1440-85f5d859f5-52jjl-project-src-flask-db-upgrade-opt-render-projec-1760145577962_1760145577963.txt)
- 20250911_01 -> 20250911_02: Add reference_category field to global_item table (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250911_02 -> 20250911_03: Remove reference_category field from global_item table (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250911_03 -> 20250911_04: Add missing timestamp columns to ingredient_category (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250911_04 -> 20250911_05: Add missing timestamp columns to global_item (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250911_05 -> 20250911_06: Fix inventory item name constraint to be organization-scoped (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250911_06 -> 20250913014500: rename is_reference_category to is_global_category (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250912_01 -> d953779b55a3: empty message (Pasted-INFO-alembic-runtime-migration-Running-upgrade-20250912-01-d953779b55a3-empty-message-Cr-1760146699272_1760146699272.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250913014500 -> 20250912_01: Add domain_event and freshness_snapshot tables (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250922_01_align_extras -> 20250922_02: Add inventory cost method toggle and valuation method fields (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250922_02 -> 20250923_01: Create product_category table (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250923_01 -> 20250923_02: Add category_id to product and recipe, backfill to Uncategorized, set NOT NULL (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- 20250923_02 -> 20250923_03: Add portioning_data JSON to recipe and batch (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250923_03 -> 20250923_04: Add sku_name_template to product_category (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250923_04 -> 20250924_01: Drop Product.base_unit column (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250924_01 -> 20250925_01: Add portion columns to recipe and batch: is_portioned, portion_name, counts (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250925_01 -> 20250925_02: Add plan_snapshot JSON to batch (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250925_02 -> 20250925_03: Add portion_unit_id FK to recipe and batch (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250925_03 -> 20250925_04: Add container structured attributes to inventory_item and global_item (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250925_04 -> 20250930_1: Add global_item_alias table and performance indexes (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250930_1 -> 20250930_2: Add soap making and cosmetic formulation attributes to inventory items (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250930_2 -> 20250930_3: Add soap making and cosmetic formulation attributes to global_item table (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250930_3 -> 20250930_4: Add visibility control fields for soap-making attributes to ingredient categories (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20250930_4 -> 20250930_5: Set default visibility flags for global ingredient categories (Pasted-frender-srv-d21alungi27c73dn1440-775bd54796-rhs8m-project-src-flask-db-upgrade-opt-render-proje-1760142487040_1760142487041.txt)
- 20251009_1 -> 20251009_2: Repair keep-list indexes/tables and add tier_included_addon (Pasted-INFO-alembic-runtime-migration-Running-upgrade-20251009-1-20251009-2-Repair-keep-list-indexes-1760147406521_1760147406521.txt | Pasted-INFO-alembic-runtime-migration-Running-upgrade-20251009-1-20251009-2-Repair-keep-list-indexes-1760147555825_1760147555826.txt)
- 20251009_2 -> 20251009_3: Align models to own keep-list indexes, projections, and association table (Pasted-INFO-alembic-runtime-migration-Running-upgrade-20251009-1-20251009-2-Repair-keep-list-indexes-1760147406521_1760147406521.txt | Pasted-INFO-alembic-runtime-migration-Running-upgrade-20251009-1-20251009-2-Repair-keep-list-indexes-1760147555825_1760147555826.txt | Pasted-arender-srv-d21alungi27c73dn1440-54598c9578-gswb2-project-src-flask-db-upgrade-opt-render-proje-1760149110216_1760149110216.txt | Pasted-render-srv-d21alungi27c73dn1440-54598c9578-gswb2-project-src-flask-db-upgrade-opt-render-projec-1760148788671_1760148788672.txt)
- 20251015_02 -> 20251015_03: Create feature_flag table (Pasted-render-srv-d21alungi27c73dn1440-5597f8d5fb-fp8b2-project-src-flask-db-upgrade-opt-render-projec-1760650748358_1760650748359.txt)
- 57d6ce45a761 -> clean_subscription_tier_billing: clean subscription tier billing structure (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-email-verified-at-column-6f9bc65166b3-Crea-1759881376209_1759881376210.txt)
- 6f9bc65166b3 -> 57d6ce45a761: empty message (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-email-verified-at-column-6f9bc65166b3-Crea-1759881376209_1759881376210.txt)
- 9a2b8c4d5e6f -> b5c7d8e9f1a2: replace billing provider booleans with enum fields (Pasted-INFO-alembic-runtime-migration-Running-upgrade-9a2b8c4d5e6f-b5c7d8e9f1a2-replace-billing-prov-1759876168754_1759876168755.txt)
- add_batch_id_to_inventory_lot -> add_missing_last_login_column: add missing last_login column (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-batch-id-to-inventory-lot-add-missing-last--1760057281403_1760057281403.txt | Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-batch-id-to-inventory-lot-add-missing-last--1760140111560_1760140111560.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- add_billing_columns_org -> whop_integration: Add Whop integration fields to Organization (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-billing-columns-org-whop-integration-Add-W-1759874676528_1759874676529.txt | Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-billing-columns-org-whop-integration-Add-W-1759875576098_1759875576099.txt)
- add_capacity_fields -> add_reference_guide_integration: Add reference guide integration fields (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- add_comprehensive_stats -> add_capacity_fields: Add container capacity columns (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- add_email_verified_at_column -> 6f9bc65166b3: Create unified inventory history and merge data (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-email-verified-at-column-6f9bc65166b3-Crea-1759881376209_1759881376210.txt)
- add_missing_last_login_column -> add_missing_user_columns: add missing user columns (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- add_missing_user_columns -> add_perm_category_col: add missing permission category column (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- add_perm_category_col -> edb302e17958: empty message (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-perm-category-col-edb302e17958-empty-messa-1760031488672_1760031488672.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- add_reference_guide_integration -> 20250904_01: Global items table, link to inventory_item, and performance indexes (Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- clean_subscription_tier_billing -> 758a11548815: clean subscription tier model use lookup keys (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-email-verified-at-column-6f9bc65166b3-Crea-1759881376209_1759881376210.txt)
- d953779b55a3 -> 20250922_01_align_extras: Align naming for extras and ensure consumable tables and indexes exist (Pasted-INFO-alembic-runtime-migration-Running-upgrade-20250912-01-d953779b55a3-empty-message-Cr-1760146699272_1760146699272.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- edb302e17958 -> fix_perm_unit_schema: fix permission and unit schema mismatch (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-perm-category-col-edb302e17958-empty-messa-1760031488672_1760031488672.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- fix_perm_unit_schema -> add_comprehensive_stats: Add comprehensive statistics models (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-perm-category-col-edb302e17958-empty-messa-1760031488672_1760031488672.txt | Pasted-render-srv-d21alungi27c73dn1440-5dd6b7cbd9-8zfrw-project-src-flask-db-upgrade-opt-render-projec-1760140758522_1760140758523.txt)
- whop_integration -> a1b2c3d4e5f6789012345678901234ab: Add Whop integration fields to SubscriptionTier (Pasted-INFO-alembic-runtime-migration-Running-upgrade-add-billing-columns-org-whop-integration-Add-W-1759875576098_1759875576099.txt)