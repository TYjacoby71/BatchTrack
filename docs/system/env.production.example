# Production Environment Configuration Template
#
# Synopsis: Generated from app/config_schema.py
# Glossary: Schema = canonical config keys, Example = env template

# === CORE RUNTIME & PLATFORM ===
# Set these to lock the app into production mode before launch.
FLASK_ENV=production
FLASK_SECRET_KEY=your-secret-key-here-must-be-32-chars-minimum
APP_BASE_URL=https://app.example.com
# APP_HOST=app.example.com
# LOG_LEVEL=INFO

# === DATABASE & PERSISTENCE ===
# Configure a managed Postgres instance before launch.
DATABASE_URL=postgresql://user:password@host:5432/batchtrack
# SQLALCHEMY_CREATE_ALL=0
# SQLALCHEMY_POOL_SIZE=20
# SQLALCHEMY_MAX_OVERFLOW=20
# SQLALCHEMY_POOL_TIMEOUT=45
# SQLALCHEMY_POOL_RECYCLE=1800
# SQLALCHEMY_POOL_USE_LIFO=true
# SQLALCHEMY_POOL_RESET_ON_RETURN=commit
# DB_STATEMENT_TIMEOUT_MS=15000
# DB_LOCK_TIMEOUT_MS=5000
# DB_IDLE_TX_TIMEOUT_MS=60000

# === CACHING & RATE LIMITS ===
# Provision a managed Redis instance.
REDIS_URL=redis://user:password@host:6379/0
# SESSION_TYPE=redis
# SESSION_LIFETIME_MINUTES=60
# CACHE_TYPE=RedisCache
# CACHE_DEFAULT_TIMEOUT=120
# REDIS_MAX_CONNECTIONS=250
# REDIS_POOL_MAX_CONNECTIONS=20
# REDIS_POOL_TIMEOUT=5
# REDIS_SOCKET_TIMEOUT=5
# REDIS_CONNECT_TIMEOUT=5
# RATELIMIT_STORAGE_URI=redis://user:password@host:6379/0
# RATELIMIT_ENABLED=true
# RATELIMIT_DEFAULT=5000 per hour;1000 per minute
# RATELIMIT_SWALLOW_ERRORS=true

# === SECURITY & NETWORKING ===
# Enable proxy awareness and security headers behind your load balancer.
ENABLE_PROXY_FIX=true
# TRUST_PROXY_HEADERS=true
# PROXY_FIX_X_FOR=1
# PROXY_FIX_X_PROTO=1
# PROXY_FIX_X_HOST=1
# PROXY_FIX_X_PORT=1
# PROXY_FIX_X_PREFIX=0
# FORCE_SECURITY_HEADERS=true
# BOT_TRAP_POLICY_PRESET=balanced
# BOT_TRAP_STRIKE_THRESHOLD=3
# BOT_TRAP_STRIKE_WINDOW_SECONDS=600
# BOT_TRAP_IP_BLOCK_SECONDS=1800
# BOT_TRAP_IP_BLOCK_MAX_SECONDS=86400
# BOT_TRAP_PENALTY_RESET_SECONDS=86400
# BOT_TRAP_ENABLE_PERMANENT_IP_BLOCKS=false

# === EMAIL & NOTIFICATIONS ===
# Configure exactly one provider for transactional email and account security flows.
# EMAIL_PROVIDER=smtp
# MAIL_SERVER=smtp.your-provider.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USE_SSL=false
# MAIL_USERNAME=your-mail_username
# MAIL_PASSWORD=your-mail_password
# MAIL_DEFAULT_SENDER=noreply@batchtrack.app
# SENDGRID_API_KEY=your-sendgrid_api_key
# POSTMARK_SERVER_TOKEN=your-postmark_server_token
# MAILGUN_API_KEY=your-mailgun_api_key
# MAILGUN_DOMAIN=
# EMAIL_SMTP_ALLOW_NO_AUTH=false
# AUTH_EMAIL_VERIFICATION_MODE=prompt
# AUTH_EMAIL_REQUIRE_PROVIDER=true
# AUTH_PASSWORD_RESET_ENABLED=true
# EMAIL_VERIFICATION_TOKEN_EXPIRY_HOURS=24
# PASSWORD_RESET_TOKEN_EXPIRY_HOURS=24

# === BILLING & PAYMENTS ===
# Stripe credentials and billing cache settings.
# STRIPE_PUBLISHABLE_KEY=your-stripe_publishable_key
# STRIPE_SECRET_KEY=your-stripe_secret_key
# STRIPE_WEBHOOK_SECRET=your-stripe_webhook_secret
# BILLING_CACHE_ENABLED=true
# BILLING_GATE_CACHE_TTL_SECONDS=60
# BILLING_STATUS_CACHE_TTL=120

# === FEATURE FLAGS ===
# Optional feature toggles.
# FEATURE_INVENTORY_ANALYTICS=true
# FEATURE_BATCHBOT=true

# === AI STUDIO & BATCHBOT ===
# Controls BatchBot models and quotas.
# GOOGLE_AI_API_KEY=your-google_ai_api_key
# GOOGLE_AI_DEFAULT_MODEL=gemini-1.5-flash
# GOOGLE_AI_BATCHBOT_MODEL=gemini-1.5-pro
# GOOGLE_AI_PUBLICBOT_MODEL=gemini-1.5-flash
# GOOGLE_AI_ENABLE_SEARCH=true
# GOOGLE_AI_ENABLE_FILE_SEARCH=true
# GOOGLE_AI_SEARCH_TOOL=google_search
# BATCHBOT_REQUEST_TIMEOUT_SECONDS=45
# BATCHBOT_DEFAULT_MAX_REQUESTS=0
# BATCHBOT_REQUEST_WINDOW_DAYS=30
# BATCHBOT_CHAT_MAX_MESSAGES=60
# BATCHBOT_COST_PER_MILLION_INPUT=0.35
# BATCHBOT_COST_PER_MILLION_OUTPUT=0.53
# BATCHBOT_SIGNUP_BONUS_REQUESTS=20
# BATCHBOT_REFILL_LOOKUP_KEY=batchbot_refill_100

# === OAUTH & MARKETPLACE ===
# Optional integrations for SSO and marketplace licensing.
# GOOGLE_OAUTH_CLIENT_ID=your-google_oauth_client_id
# GOOGLE_OAUTH_CLIENT_SECRET=your-google_oauth_client_secret
# FACEBOOK_OAUTH_APP_ID=your-facebook_oauth_app_id
# FACEBOOK_OAUTH_APP_SECRET=your-facebook_oauth_app_secret
# WHOP_API_KEY=your-whop_api_key
# WHOP_APP_ID=your-whop_app_id

# === LOAD TESTING INPUTS ===
# Environment-driven knobs consumed by loadtests/locustfile.py.
# LOCUST_USER_BASE=loadtest_user
# LOCUST_USER_PASSWORD=loadtest123
# LOCUST_USER_COUNT=500
# LOCUST_CACHE_TTL=120
# LOCUST_REQUIRE_HTTPS=1
# LOCUST_LOG_LOGIN_FAILURE_CONTEXT=0
# LOCUST_ENABLE_BROWSE_USERS=1
# LOCUST_FAIL_FAST_LOGIN=1
# LOCUST_ABORT_ON_AUTH_FAILURE=0
# LOCUST_MAX_LOGIN_ATTEMPTS=2
# LOCUST_USER_CREDENTIALS=

# === GUNICORN SERVER ===
# Server process settings for Gunicorn.
# GUNICORN_WORKERS=2
# GUNICORN_WORKER_CLASS=gevent
# GUNICORN_WORKER_CONNECTIONS=1000
# GUNICORN_TIMEOUT=30
# GUNICORN_KEEPALIVE=2
# GUNICORN_MAX_REQUESTS=2000
# GUNICORN_PRELOAD_APP=0

# === OPERATIONS & WEBHOOKS ===
# Optional operational integrations and webhook destinations.
# DOMAIN_EVENT_WEBHOOK_URL=https://your-domain-event-endpoint.example
# GOOGLE_ANALYTICS_MEASUREMENT_ID=G-XXXXXXXXXX
# POSTHOG_PROJECT_API_KEY=your-posthog_project_api_key
# POSTHOG_HOST=https://us.i.posthog.com
# POSTHOG_CAPTURE_PAGEVIEW=true
# POSTHOG_CAPTURE_PAGELEAVE=true
