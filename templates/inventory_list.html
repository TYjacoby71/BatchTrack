
{% extends 'layout.html' %}
{% block content %}
<h2>Inventory</h2>

<table>
<tr>
    <th>Name</th>
    <th>Quantity</th>
    <th>Unit</th>
    <th>Cost/Unit</th>
    <th>Actions</th>
</tr>
{% for ing in ingredients %}
<div class="mb-3">
    <a href="{{ url_for('inventory.list_inventory') }}" class="btn btn-outline-primary {% if not request.args.get('type') %}active{% endif %}">All</a>
    <a href="{{ url_for('inventory.list_inventory', type='intermediate') }}" class="btn btn-outline-primary {% if request.args.get('type') == 'intermediate' %}active{% endif %}">Intermediate</a>
</div>

<tr>
    <td>
        <strong>{{ ing.name }}</strong>
        {% if ing.intermediate %}
        <span class="badge bg-warning text-dark ms-2">Intermediate</span>
        {% endif %}
    </td>
    <td>{{ ing.quantity }}</td>
    <td>{{ ing.unit }}</td>
    <td>${{ "%.2f"|format(ing.cost_per_unit or 0) }}</td>
    <td>
        <a href="{{ url_for('inventory.update_inventory', id=ing.id) }}">Update</a> |
        <a href="{{ url_for('inventory.delete_inventory', id=ing.id) }}">Delete</a>
    </td>
</tr>
{% endfor %}
</table>

<h3>Add New Inventory Item</h3>
<form method="post" action="{{ url_for('inventory.add_inventory') }}">
    <input type="text" name="name" placeholder="Name" required>
    <input type="number" step="0.01" name="quantity" placeholder="Quantity" required>
    <select name="type" class="form-select" required>
        <option value="ingredient">Ingredient</option>
        <option value="container">Container</option>
        <option value="supply">Supply</option>
    </select>
    <select name="unit">
        {% for unit in units %}
        <option value="{{ unit.name }}">{{ unit.name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Add Item</button>
</form>
{% endblock %}
