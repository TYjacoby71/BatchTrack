{% extends "layout.html" %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{{ url_for('inventory.list_inventory') }}">Inventory</a></li>
          <li class="breadcrumb-item active">{{ item.name }}</li>
        </ol>
      </nav>

      <!-- Pending Unit Change Alert -->
      {% if session.get('pending_unit_change') and session['pending_unit_change'].item_id == item.id %}
      <div class="alert alert-info alert-dismissible fade show" role="alert">
        <h5>Unit Change Pending Confirmation</h5>
        <p>You are changing the unit from <strong>{{ session['pending_unit_change'].old_unit }}</strong> to <strong>{{ session['pending_unit_change'].new_unit }}</strong>.</p>
        <p>Click "Edit Details" to confirm your choice about inventory conversion.</p>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
      {% endif %}

      {% include "inventory/components/item_summary_card.html" %}
      {% include "inventory/components/adjustment_form.html" %}
      {% include "inventory/components/history_table.html" %}
    </div>
  </div>
</div>

{% include "inventory/components/edit_details_modal.html" %}
{% include "inventory/components/modals.html" %}

<script src="{{ url_for('static', filename='js/inventory/inventory_view.js') }}"></script>
{% endblock %}